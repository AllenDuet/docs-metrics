---
breadcrumb: PCF Metrics Documentation
title: PCF Metrics
owner: PCF Metrics
---

The Pivotal Cloud Foundry (PCF) Metrics tile stores metrics data from applications running on PCF and
graphically presents that data for operators and developers.

## <a id='snapshot'></a>Product Snapshot ##

<dl>
<dt>Current PCF Metrics Details</dt>
<dd><strong>Version</strong>: 1.0.0</dd>
<dd><strong>Release Date</strong>: TBD</dd>
<dd><strong>Compatible Ops Manager Version(s)</strong>: TBD</dd>
<dd><strong>Compatible Elastic Runtime Version(s)</strong>: >= 1.6.16</dd>
<dd><strong>AWS support?</strong> Yes<dd>
<dd><strong>vSphere support?</strong> Yes</dd>
<dd><strong>OpenStack support?</strong> Unconfirmed</dd>
</dl>

## <a id='install'></a>Install ##

### <a id='pre-reqs'></a>Prerequisites ###

Ensure that you have installed the [Elastic Runtime Tile](http://docs.pivotal.io/pivotalcf/getstarted/index.html).

### <a id='step1'></a> Step 1: Run CloudFormation Script

1. If you are using an IaaS other than AWS, skip to [Step 2](#step2).
1. Download the PCF Metrics <a href="<%= asset_url "assets/cloud_formations_template.json" %>" target="_blank">CloudFormation script</a>.
1. Log in to AWS and navigate to the **CloudFormation Management Console**.
1. Click **Create Stack**.
1. Select **Upload a template to Amazon S3**.
1. Click **Choose File** and select the PCF Metrics CloudFormation script you downloaded.
1. Click **Next**.
1. Specify the following:

	| Name                 | Example Value           | Description                                                                                                                                          |
	|----------------------|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
	| Stack Name           | metrics-tile            | A unique name for the stack                                                                                                                          |
	| ELBRecordSetName     | metrics.your-domain.com | Optional: If you specify a HostedZoneName, you can also specify the DNS name of the PCF Metrics deployment. This value must be a subdomain of the HostedZoneName. If not specified, AWS does not create a DNS record. |
	| ExternalCIDR         | 10.0.134.0/24           | The external subnet CIDR block that the ELB will reside in                                                                                              |
	| ExternalRouteTableID | rtb-xxxxxxxx            | The ID of the route table for the External Subnet                                                                                                   |
	| HAProxyPort          | 80                      | The TCP/IP port of the HA Proxy server. The value must be 80, which specifies HTTP.                                                                                                |
	| HostedZoneName       | your-domain.com        | Optional: A Route53 Hosted Zone in which to register the DNS record of the ELB                                                                            |
	| NamePrefix           | metrics-tile            | The prefix for instance names created by this deployment                                                                                  |
	| SecurityGroupID      | sg-xxxxxxxx             | The ID of the ELB security group                                                                                                                         |
	| SSLCert              | my_cert                 | The name of the SSL Certificate for the ELB. This value can be the same as the Elastic Runtime certificate.                                                     |
	| VPCID                | vpc-xxxxxxxx            | The ID of the deployment VPC                                                                                                                         |

1. Click **Next** until you can click **Create**.
1. Click **Create**.

### <a id='step2'></a> Step 2: Add the PCF Metrics Tile to Ops Manager

1. Download the PCF Metrics file from
   [Pivotal Network](https://network.pivotal.io/products/pcf-metrics).
1. Upload the PCF Metrics file to your Ops Manager installation.
1. Click **Add** next to the uploaded product description in the **Available Products**
   view to add PCF Metrics to your **Installation Dashboard**.

### <a id='step3'></a>Step 3: Configure the PCF Metrics Tile

From the **Installation Dashboard**, click the **PCF Metrics** tile.

<p class='note'><strong>Note:</strong> The tile is orange because it requires configuration.</p>

#### Assign Networks

1. Use the drop-down menu to select a network.
1. Click **Save**.

#### Assign Availability Zones

1. Select an Availability Zone under **Place singleton jobs**. 
   <br>
   Ops Manager runs Metrics jobs with a single instance in this Availability Zone.
1. Select one or more Availability Zones under **Balance other jobs**. 
   <br>
   Ops Manager balances instances of Metrics jobs with more than one instance
   across the Availability Zones that you specify.
1. Click **Save**.

#### Resource Config

1. Review the resource configurations. 
1. Click **Save**. 

#### Stemcell

1. Log in to the [Pivotal Network](https://network.pivotal.io/products/pcf-metrics) and click **Stemcells**.
1. Download the appropriate stemcell version for your IaaS.
   <p class='note'><strong>Note:</strong> On AWS make sure to use a HVM stemcell if you are using the
   default instance sizes.</p>
1. Click **Import Stemcell** and select the stemcell file you downloaded.

### <a id='step4'></a>Step 4: Deploy PCF Metrics

1. Click **Apply Changes** to install the service.
